#include "EvaluationDefinitions.h"

int16_t PIECE_VALUE[7] = {
        0, // Empty
        100, // Pawn
        320, // Knight
        330, // Bishop
        500, // Rook
        900, // Queen
        0 // King
};

Bitboard neighboringFiles[8] = {
        0x101010101010101, // A
        0x505050505050505, // B
        0xA0A0A0A0A0A0A0A, // C
        0x1414141414141414, // D
        0x2828282828282828, // E
        0x5050505050505050, // F
        0xA0A0A0A0A0A0A0A0, // G
        0x4040404040404040 // H
};

Bitboard connectedPawnMasks[64] = {
        0x2,0x5,0xA,0x14,0x28,0x50,0xA0,0x40,
        0x200,0x500,0xA00,0x1400,0x2800,0x5000,0xA000,0x4000,
        0x20000,0x50000,0xA0000,0x140000,0x280000,0x500000,0xA00000,0x400000,
        0x2000000,0x5000000,0xA000000,0x14000000,0x28000000,0x50000000,0xA0000000,0x40000000,
        0x200000000,0x500000000,0xA00000000,0x1400000000,0x2800000000,0x5000000000,0xA000000000,0x4000000000,
        0x20000000000,0x50000000000,0xA0000000000,0x140000000000,0x280000000000,0x500000000000,0xA00000000000,0x400000000000,
        0x2000000000000,0x5000000000000,0xA000000000000,0x14000000000000,0x28000000000000,0x50000000000000,0xA0000000000000,0x40000000000000,
        0x200000000000000,0x500000000000000,0xA00000000000000,0x1400000000000000,0x2800000000000000,0x5000000000000000,0xA000000000000000,0x4000000000000000,
};

Bitboard pawnChainMasks[2][64] = {
        // White
        {
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
                0x2,0x5,0xA,0x14,0x28,0x50,0xA0,0x40,
                0x200,0x500,0xA00,0x1400,0x2800,0x5000,0xA000,0x4000,
                0x20000,0x50000,0xA0000,0x140000,0x280000,0x500000,0xA00000,0x400000,
                0x2000000,0x5000000,0xA000000,0x14000000,0x28000000,0x50000000,0xA0000000,0x40000000,
                0x200000000,0x500000000,0xA00000000,0x1400000000,0x2800000000,0x5000000000,0xA000000000,0x4000000000,
                0x20000000000,0x50000000000,0xA0000000000,0x140000000000,0x280000000000,0x500000000000,0xA00000000000,0x400000000000,
                0x2000000000000,0x5000000000000,0xA000000000000,0x14000000000000,0x28000000000000,0x50000000000000,0xA0000000000000,0x40000000000000,
        },
        // Black
        {
                0x200,0x500,0xA00,0x1400,0x2800,0x5000,0xA000,0x4000,
                0x20000,0x50000,0xA0000,0x140000,0x280000,0x500000,0xA00000,0x400000,
                0x2000000,0x5000000,0xA000000,0x14000000,0x28000000,0x50000000,0xA0000000,0x40000000,
                0x200000000,0x500000000,0xA00000000,0x1400000000,0x2800000000,0x5000000000,0xA000000000,0x4000000000,
                0x20000000000,0x50000000000,0xA0000000000,0x140000000000,0x280000000000,0x500000000000,0xA00000000000,0x400000000000,
                0x2000000000000,0x5000000000000,0xA000000000000,0x14000000000000,0x28000000000000,0x50000000000000,0xA0000000000000,0x40000000000000,
                0x200000000000000,0x500000000000000,0xA00000000000000,0x1400000000000000,0x2800000000000000,0x5000000000000000,0xA000000000000000,0x4000000000000000,
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
        }
};

Bitboard doubledPawnMasks[2][64] = {
        // White
        {
                0x101010101010100,0x202020202020200,0x404040404040400,0x808080808080800,0x1010101010101000,0x2020202020202000,0x4040404040404000,0x8080808080808000,
                0x101010101010000,0x202020202020000,0x404040404040000,0x808080808080000,0x1010101010100000,0x2020202020200000,0x4040404040400000,0x8080808080800000,
                0x101010101000000,0x202020202000000,0x404040404000000,0x808080808000000,0x1010101010000000,0x2020202020000000,0x4040404040000000,0x8080808080000000,
                0x101010100000000,0x202020200000000,0x404040400000000,0x808080800000000,0x1010101000000000,0x2020202000000000,0x4040404000000000,0x8080808000000000,
                0x101010000000000,0x202020000000000,0x404040000000000,0x808080000000000,0x1010100000000000,0x2020200000000000,0x4040400000000000,0x8080800000000000,
                0x101000000000000,0x202000000000000,0x404000000000000,0x808000000000000,0x1010000000000000,0x2020000000000000,0x4040000000000000,0x8080000000000000,
                0x100000000000000,0x200000000000000,0x400000000000000,0x800000000000000,0x1000000000000000,0x2000000000000000,0x4000000000000000,0x8000000000000000,
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
        },
        // Black
        {
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
                0x1,0x2,0x4,0x8,0x10,0x20,0x40,0x80,
                0x101,0x202,0x404,0x808,0x1010,0x2020,0x4040,0x8080,
                0x10101,0x20202,0x40404,0x80808,0x101010,0x202020,0x404040,0x808080,
                0x1010101,0x2020202,0x4040404,0x8080808,0x10101010,0x20202020,0x40404040,0x80808080,
                0x101010101,0x202020202,0x404040404,0x808080808,0x1010101010,0x2020202020,0x4040404040,0x8080808080,
                0x10101010101,0x20202020202,0x40404040404,0x80808080808,0x101010101010,0x202020202020,0x404040404040,0x808080808080,
                0x1010101010101,0x2020202020202,0x4040404040404,0x8080808080808,0x10101010101010,0x20202020202020,0x40404040404040,0x80808080808080,
        }
};

Bitboard sentryMasks[2][64] = {
        // White
        {
                0x303030303030300,0x707070707070700,0xE0E0E0E0E0E0E00,0x1C1C1C1C1C1C1C00,0x3838383838383800,0x7070707070707000,0xE0E0E0E0E0E0E000,0xC0C0C0C0C0C0C000,
                0x303030303030000,0x707070707070000,0xE0E0E0E0E0E0000,0x1C1C1C1C1C1C0000,0x3838383838380000,0x7070707070700000,0xE0E0E0E0E0E00000,0xC0C0C0C0C0C00000,
                0x303030303000000,0x707070707000000,0xE0E0E0E0E000000,0x1C1C1C1C1C000000,0x3838383838000000,0x7070707070000000,0xE0E0E0E0E0000000,0xC0C0C0C0C0000000,
                0x303030300000000,0x707070700000000,0xE0E0E0E00000000,0x1C1C1C1C00000000,0x3838383800000000,0x7070707000000000,0xE0E0E0E000000000,0xC0C0C0C000000000,
                0x303030000000000,0x707070000000000,0xE0E0E0000000000,0x1C1C1C0000000000,0x3838380000000000,0x7070700000000000,0xE0E0E00000000000,0xC0C0C00000000000,
                0x303000000000000,0x707000000000000,0xE0E000000000000,0x1C1C000000000000,0x3838000000000000,0x7070000000000000,0xE0E0000000000000,0xC0C0000000000000,
                0x300000000000000,0x700000000000000,0xE00000000000000,0x1C00000000000000,0x3800000000000000,0x7000000000000000,0xE000000000000000,0xC000000000000000,
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
        },
        // Black
        {
                0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,
                0x3,0x7,0xE,0x1C,0x38,0x70,0xE0,0xC0,
                0x303,0x707,0xE0E,0x1C1C,0x3838,0x7070,0xE0E0,0xC0C0,
                0x30303,0x70707,0xE0E0E,0x1C1C1C,0x383838,0x707070,0xE0E0E0,0xC0C0C0,
                0x3030303,0x7070707,0xE0E0E0E,0x1C1C1C1C,0x38383838,0x70707070,0xE0E0E0E0,0xC0C0C0C0,
                0x303030303,0x707070707,0xE0E0E0E0E,0x1C1C1C1C1C,0x3838383838,0x7070707070,0xE0E0E0E0E0,0xC0C0C0C0C0,
                0x30303030303,0x70707070707,0xE0E0E0E0E0E,0x1C1C1C1C1C1C,0x383838383838,0x707070707070,0xE0E0E0E0E0E0,0xC0C0C0C0C0C0,
                0x3030303030303,0x7070707070707,0xE0E0E0E0E0E0E,0x1C1C1C1C1C1C1C,0x38383838383838,0x70707070707070,0xE0E0E0E0E0E0E0,0xC0C0C0C0C0C0C0,
        }
};

int16_t MG_PSQT[7][64] = {
        // Empty
        {},
        // Pawn
        {
                0, 0, 0, 0, 0, 0, 0, 0,
                5, 10, 10, -20, -20, 10, 10, 5,
                5, -5, -10, 0, 0, -10, -5, 5,
                0, 0, 0, 20, 20, 0, 0, 0,
                5, 5, 10, 20, 20, 10, 5, 5,
                10, 10, 20, 15, 15, 20, 10, 10,
                50, 50, 50, 50, 50, 50, 50, 50,
                0, 0, 0, 0, 0, 0, 0, 0
        },
        // Knight
        {
                -30, -20, -10, -10, -10, -10, -20, -30,
                -30, -10, 0, 5, 5, 0, -10, -30,
                -20, 5, 10, 15, 15, 10, 5, -20,
                -20, 0, 15, 20, 20, 15, 0, -20,
                -20, 5, 15, 20, 20, 15, 5, -20,
                -20, 0, 10, 15, 15, 10, 0, -20,
                -30, -10, 0, 0, 0, 0, -10, -30,
                -30, -20, -10, -10, -10, -10, -20, -30
        },
        // Bishop
        {
                -20, -10, -10, -10, -10, -10, -10, -20,
                -10, 5, 0, 0, 0, 0, 5, -10,
                -10, 10, 10, 10, 10, 10, 10, -10,
                -10, 0, 10, 10, 10, 10, 0, -10,
                -10, 5, 5, 10, 10, 5, 5, -10,
                -10, 0, 5, 10, 10, 5, 0, -10,
                -10, 0, 0, 0, 0, 0, 0, -10,
                -20, -10, -10, -10, -10, -10, -10, -20
        },
        // Rook
        {
                0, 0, 0, 5, 5, 0, 0, 0,
                5, 10, 10, 10, 10, 10, 10, 5,
                -5, 0, 0, 0, 0, 0, 0, -5,
                -5, 0, 0, 0, 0, 0, 0, -5,
                -5, 0, 0, 0, 0, 0, 0, -5,
                -5, 0, 0, 0, 0, 0, 0, -5,
                30, 30, 30, 30, 30, 30, 30, 30,
                0, 0, 0, 0, 0, 0, 0, 0
        },
        // Queen
        {
                -20, -10, -10, -5, -5, -10, -10, -20,
                -10, 0, 5, 0, 0, 0, 0, -10,
                -10, 0, 5, 5, 5, 5, 0, -10,
                -5, 0, 5, 5, 5, 5, 0, -5,
                0, 0, 5, 5, 5, 5, 0, -5,
                -10, 5, 5, 5, 5, 5, 0, -10,
                -10, 0, 0, 0, 0, 0, 0, -10,
                -20, -10, -10, -5, -5, -10, -10, -20
        },
        // King
        {
                20, 30, 10, 0, 0, 10, 30, 20,
                10, 20, 0, -10, -10, 0, 20, 10,
                -10, -20, -20, -20, -20, -20, -20, -10,
                -20, -30, -30, -40, -40, -30, -30, -20,
                -30, -40, -40, -50, -50, -40, -40, -30,
                -30, -40, -40, -50, -50, -40, -40, -30,
                -30, -40, -40, -50, -50, -40, -40, -30,
                -30, -40, -40, -50, -50, -40, -40, -30
        }
};

int16_t EG_PSQT[7][64] = {
        //Empty
        {},
        // Pawn
        {
                0, 0, 0, 0, 0, 0, 0, 0,
                -20, -20, -20, -20, -20, -20, -20, -20,
                -10, -10, -10, -10, -10, -10, -10, -10,
                0, 0, 0, 0, 0, 0, 0, 0,
                15, 15, 15, 15, 15, 15, 15, 15,
                35, 35, 35, 35, 35, 35, 35, 35,
                50, 50, 50, 50, 50, 50, 50, 50,
                0, 0, 0, 0, 0, 0, 0, 0
        },
        // Knight
        {
                -25, -20, -15, -15, -15, -15, -20, -25,
                -20, -10, 0, 2, 2, 0, -10, -20,
                -15, 2, 5, 7, 7, 5, 2, -15,
                -15, 0, 7, 10, 10, 7, 0, -15,
                -15, 2, 7, 10, 10, 7, 2, -15,
                -15, 0, 5, 7, 7, 5, 0, -15,
                -20, -10, 0, 0, 0, 0, -10, -20,
                -25, -20, -15, -15, -15, -15, -20, -25
        },
        // Bishop
        {
                -10, -5, -5, -5, -5, -5, -5, -10,
                -5, 2, 0, 0, 0, 0, 2, -5,
                -5, 5, 5, 5, 5, 5, 5, -5,
                -5, 0, 5, 5, 5, 5, 0, -5,
                -5, 2, 2, 5, 5, 2, 2, -5,
                -5, 0, 2, 5, 5, 2, 0, -5,
                -5, 0, 0, 0, 0, 0, 0, -5,
                -10, -5, -5, -5, -5, -5, -5, -10
        },
        // Rook
        {
                -10, -5, -2, 0, 0, -2, -5, -10,
                -5, -2, 0, 2, 2, 0, -2, -5,
                -2, 0, 2, 5, 5, 2, 0, -2,
                0, 2, 5, 10, 10, 5, 2, 0,
                0, 2, 5, 10, 10, 5, 2, 0,
                -2, 0, 2, 5, 5, 2, 0, -2,
                -5, -2, 0, 2, 2, 0, -2, -5,
                -10, -5, -2, 0, 0, -2, -5, -10
        },
        // Queen
        {
                -10, -5, -2, 0, 0, -2, -5, -10,
                -5, -2, 0, 2, 2, 0, -2, -5,
                -2, 0, 2, 5, 5, 2, 0, -2,
                0, 2, 5, 10, 10, 5, 2, 0,
                0, 2, 5, 10, 10, 5, 2, 0,
                -2, 0, 2, 5, 5, 2, 0, -2,
                -5, -2, 0, 2, 2, 0, -2, -5,
                -10, -5, -2, 0, 0, -2, -5, -10
        },
        // King
        {
                -50, -30, -30, -20, -20, -30, -30, -50,
                -30, -20, -10, 0, 0, -10, -20, -30,
                -30, -10, 20, 30, 30, 20, -10, -30,
                -20, 0, 30, 40, 40, 30, 0, -20,
                -20, 0, 30, 40, 40, 30, 0, -20,
                -30, -10, 20, 30, 30, 20, -10, -30,
                -30, -20, -10, 0, 0, -10, -20, -30,
                -50, -30, -30, -20, -20, -30, -30, -50
        }
};

Bitboard centerSquares = 0x0000001818000000;